% CTUstyle3 template
\input ctustyle3

\worktype [B/EN]

\faculty {F3}
\department {Department of Cybernetics}

\title {Using ROS~2 for High-Speed Maneuvering in Autonomous Driving}
\titleCZ {Použití ROS~2 pro manévrování ve~vysoké rychlosti v~\nobreak{autonomním} řízení}
\author {Martin Endler}
\date {August 2022}

\supervisor {Ing. Michal Sojka, Ph.D.}
\studyinfo  {Open Informatics – Artificial Intelligence and Computer Science}
\workinfo   {\url{https://github.com/pokusew/fel-bachelors-thesis}}

% The two PDF Assigment pages after the Title Page
\specification {
	\vbox to0pt{\vskip-32mm\centerline{\inspic ../../formalities/fel-bachelors-thesis-official-assignment-p1.pdf }\vss}
	\vfil\break
	\vbox to0pt{\vskip-32mm\centerline{\inspic ../../formalities/fel-bachelors-thesis-official-assignment-p2.pdf }\vss}
}

\abstractEN {

	Performing high-speed maneuvers in autonomous driving is problematic without proper real-time support. At~CTU, there is a team that competes in the F1/10 Autonomous Driving Competition with autonomous model cars. Their autonomous driving stack is based on ROS~1, which is not suitable for real-time applications.

	The goal is to migrate this stack to ROS~2, which has been designed from the ground up to address many issues in this area. We propose tracing as an efficient way to analyze a running ROS~2 system and measure important properties.

	We demonstrate the working of the migrated stack on the F1/10 model car and in the Stage simulator. We evaluate the communication latencies in the new stack using an extended version of ROS~2 tracing tools. Another result of our work is a publicly-available collection of setup guides, scripts, and documentation that covers various aspects of working with ROS. These guides have already helped several people.

	We hope that the results of this thesis build a foundation that opens the way for the adoption of ROS~2 in the CTU's F1/10 stack, further improving its real-time properties, while making it more approachable by new students.

}
\keywordsEN {
	ROS, ROS~1, ROS~2, ROS~2 migration, F1/10, Follow the Gap, autonomous model car, autonomous driving, NVIDIA Jetson TX2, LTTng, tracing, ros2_tracing
}

\abstractCZ {

	Manévrování ve vysoké rychlosti při autonomním řízení je problematické bez řádné podpory real-time na straně softwaru. Na ČVUT je tým, který se účastní soutěže F1/10 Autonomous Driving Competition s autonomními modely aut. Jejich software pro autonomního řízení je založen na ROS~1, který není vhodný pro real-time aplikace.

	Cílem této práce je migrovat tento software na ROS~2, který byl od základu navržen s ohledem na real-time aplikace. Dále v práci navrhujeme tracing jako efektivní způsob analýzy běžícího systému na ROS~2 a měření důležitých parametrů.

	Výsledky naší práci zahrnují software migrovaný do ROS~2, jehož funkčnost demonstrujeme na skutečném modelu F1/10 a v simulátoru Stage. Dále analyzujeme komunikační latence v~migrovaném softwaru pomocí námi rozšířené verze tracing nástrojů pro ROS~2. Dalším výsledkem naší práce je veřejně dostupná sbírka návodů, skriptů a dokumentace, která pokrývá různé aspekty práce s ROS. Tyto návody již pomohly několika lidem.

	Doufáme, že výsledky této práce vytvoří základ, který otevře cestu pro adopci ROS~2 v projektu F1/10 na ČVUT a zároveň jej zpřístupní novým studentům.

}
\keywordsCZ {
	ROS, ROS~1, ROS~2, ROS~2 migration, F1/10, Follow the Gap, model autonomního auta, autonomní řízení, NVIDIA Jetson TX2, LTTng, tracing, ros2_tracing
}

\thanks {
	First of all, I would like to thank my~supervisor Ing.~Michal~Sojka,~Ph.D.
	\nl for his guidance, support, and immense patience.

	Second, my thanks go to Ing.~Jaroslav Klapálek for providing valuable
	information and advice regarding the F1/10 project.

	Next, I would like to thank Bc.~Tomáš Nagy for his help with all sorts of mechanical stuff,
	explaining AV algorithms, building a new CTU's F1/10 model,
	and for all his support during our joint internship at the \nobreak{University} of Pennsylvania.

	Last but not least, I would like to thank Prof.~Rahul~Mangharam
	for \nobreak{providing} a stimulating environment during my internship
	at his lab at the \nobreak{University} of Pennsylvania.

	Finally, I would like to thank my \nobreak{family} and close friends for always supporting me throughout my studies.
}
\declaration {
	I declare that the presented work was developed independently and that I have listed all sources of information
	used within it in accordance with the methodical instructions for observing the ethical principles in the
	preparation of university theses.

	Prague, August 15, 2022
	\signature % makes dots
}

% link glossary data
\input glossary

%%%%% <--   % The place for your own macros is here.

%\draft     % Uncomment this if the version of your document is working only.
%\linespacing=1.7  % uncomment this if you need more spaces between lines
% Warning: this works only when \draft is activated!
%\savetoner        % Turns off the lightBlue backround of tables and
% verbatims, only for \draft version.
%\blackwhite       % Use this if you need really Black+White thesis.
%\onesideprinting  % Use this if you really don't use duplex printing.

% make title page, acknowledgment, contents etc.
\makefront

% contents
\input 1-introduction
\input 2-ros
\input 3-tracing
\input 4-f1tenth
\input 5-migration
\input 6-evaluation
\input 7-conclusion

% appendices
\input appendices

% document end
\bye
